<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jaxrs="http://cxf.apache.org/jaxrs"
       xmlns:cxf="http://cxf.apache.org/core"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
       http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd">

  <import resource="classpath:META-INF/cxf/cxf.xml"/>
  <import resource="classpath:META-INF/cxf/cxf-extension-jaxrs-binding.xml"/>
  <import resource="classpath:META-INF/cxf/cxf-extension-http-jetty.xml"/>

  <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />



  <bean id="logInbound" class="org.apache.cxf.interceptor.LoggingInInterceptor"/>
  <bean id="logOutbound" class="org.apache.cxf.interceptor.LoggingOutInterceptor"/>
  <!--
  logging
  -->
  <cxf:bus>
    <cxf:inInterceptors>
      <ref bean="logInbound"/>
    </cxf:inInterceptors>
    <cxf:outInterceptors>
      <ref bean="logOutbound"/>
    </cxf:outInterceptors>
    <cxf:inFaultInterceptors>
      <ref bean="logOutbound"/>
    </cxf:inFaultInterceptors>
  </cxf:bus>

  <jaxrs:server id="activationService" address="/">
    <jaxrs:serviceBeans>
      <ref bean="activationRestService" />
    </jaxrs:serviceBeans>
    <jaxrs:providers>
      <bean class="org.codehaus.jackson.jaxrs.JacksonJsonProvider" />
    </jaxrs:providers>
  </jaxrs:server>

  <bean id="activationRestService" class="se.vgregion.activation.rest.ActivationCodeService">
    <constructor-arg ref="service"/>
  </bean>

  <bean id="service" class="se.vgregion.activation.rest.ActivationCodeServiceTest"
        factory-method="mockAccountService">
  </bean>

  <!--<jaxrs:server id="externalOrgService" address="/external-org">
    <jaxrs:serviceBeans>
      <ref bean="externalOrgRestService" />
    </jaxrs:serviceBeans>
    <jaxrs:providers>
      <bean class="org.codehaus.jackson.jaxrs.JacksonJsonProvider" />
    </jaxrs:providers>
  </jaxrs:server>-->

  <!--<security:http>
    <security:http-basic />
  </security:http>
  <security:global-method-security secured-annotations="enabled" />
  <security:authentication-manager>
    <security:authentication-provider>
      <security:user-service>
        <security:user name="restuser" password="restuser" authorities="ROLE_RESTCLIENT" />
      </security:user-service>
    </security:authentication-provider>
  </security:authentication-manager>-->

</beans>
